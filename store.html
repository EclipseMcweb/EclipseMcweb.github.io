<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>MediaMC Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0; font-family:'Segoe UI',Arial,sans-serif;
  background: linear-gradient(135deg,#0ea5e9,#020617); color:#fff;
  overflow-x:hidden;
}

/* Glow laterali */
.side-glow {
  position: fixed; top: -50%; width: 120px; height: 200%;
  background: linear-gradient(180deg,transparent,rgba(56,189,248,0.4),transparent);
  filter: blur(45px); animation: floatGlow 10s linear infinite;
  pointer-events:none; z-index:-1;
}
.side-glow.left { left:-50px; }
.side-glow.right { right:-50px; animation-delay:5s; }
@keyframes floatGlow {0%{transform:translateY(-20%);}100%{transform:translateY(20%);}}

/* Header */
header {text-align:center;padding:40px 20px;background:rgba(2,6,23,0.85);box-shadow:0 10px 30px rgba(0,0,0,0.6);}
header h1 {font-size:3em; color:#38bdf8;}
header p {color:#bae6fd; font-size:1.2em; margin:0;}

/* Store layout */
#storeContent {padding:20px; display:none;}
.categories {display:flex; gap:10px; flex-wrap:wrap; margin-bottom:20px;}
.categories button {background:#38bdf8; border:none; border-radius:8px; padding:8px 12px; cursor:pointer; color:#fff; font-weight:bold;}
.categories button:hover {background:#22d3ee;}

.products {display:flex; flex-wrap:wrap; gap:12px;}
.product {background:rgba(2,6,23,0.8); border:2px solid #38bdf8; border-radius:10px; padding:10px; width:180px; cursor:pointer;}
.product img {max-width:100%; border-radius:6px;}
.product h3 {margin:6px 0; font-size:1.1em;}
.product p {margin:4px 0; font-size:0.9em;}
.product span {font-weight:bold;}

/* Modal Nick */
#nickModal {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center;
  z-index:10;
}
#nickModal .modalContent {
  background:rgba(2,6,23,0.9); padding:30px; border-radius:12px; text-align:center; width:90%; max-width:400px;
}
#nickModal input {width:80%; padding:8px; border-radius:6px; border:none; margin:10px 0;}
#nickModal button {padding:8px 16px; border:none; border-radius:6px; background:#38bdf8; color:#fff; font-weight:bold; cursor:pointer;}
#nickModal button:hover {background:#22d3ee;}

/* Carrello button */
#cartBtn {position:fixed; top:20px; right:20px; padding:10px 16px; background:#22d3ee; border:none; border-radius:8px; cursor:pointer; z-index:5;}
#cartBtn:hover {background:#38bdf8;}
</style>
</head>
<body>
<div class="side-glow left"></div>
<div class="side-glow right"></div>

<header>
<h1>ðŸ›’ MediaMC Store</h1>
<p>Scegli i prodotti per divertirti al massimo!</p>
</header>

<!-- Modal nick -->
<div id="nickModal">
  <div class="modalContent">
    <h2>Inserisci il tuo nick Minecraft</h2>
    <input type="text" id="nickInput" placeholder="Nick Minecraft">
    <br>
    <button onclick="enterStore()">Entra nello Store</button>
  </div>
</div>

<button id="cartBtn" onclick="goCart()">ðŸ›’ Carrello</button>

<div id="storeContent">
  <div class="categories" id="categories"></div>
  <div class="products" id="products"></div>
</div>

<script>
// Variabili
let nick = '';
let categories = JSON.parse(localStorage.getItem('categories')) || ['Duels','BedWars'];
let products = JSON.parse(localStorage.getItem('products')) || [];

// Modal nick
function enterStore(){
  const val=document.getElementById('nickInput').value.trim();
  if(!val){ alert('Inserisci il nick!'); return; }
  nick = val;
  localStorage.setItem('nickTemp',nick);
  document.getElementById('nickModal').style.display='none';
  document.getElementById('storeContent').style.display='block';
  renderCategories();
}

// Carrello
function goCart(){ window.location.href='carrello.html'; }

// Render categorie
function renderCategories(){
  const catDiv = document.getElementById('categories');
  catDiv.innerHTML='';
  categories.forEach(c=>{
    const btn=document.createElement('button');
    btn.textContent=c;
    btn.onclick=()=>renderProducts(c);
    catDiv.appendChild(btn);
  });
}

// Render prodotti per categoria
function renderProducts(cat){
  const prodDiv = document.getElementById('products');
  prodDiv.innerHTML='';
  products.filter(p=>p.category===cat).forEach(p=>{
    const div=document.createElement('div');
    div.className='product';
    div.innerHTML=`${p.image?`<img src="${p.image}">`:''}<h3>${p.title}</h3><p>${p.desc}</p><span>â‚¬${p.price}</span><br><button onclick="addCart(${products.indexOf(p)})">Aggiungi al carrello</button>`;
    prodDiv.appendChild(div);
  });
}

// Aggiungi al carrello
function addCart(idx){
  let cart = JSON.parse(localStorage.getItem('cart'))||[];
  cart.push(products[idx]);
  localStorage.setItem('cart',JSON.stringify(cart));
  alert('Aggiunto al carrello con successo.');
}

// Salva categorie e prodotti dallo staff
</script>
</body>
</html>
