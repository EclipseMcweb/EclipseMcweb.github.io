<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>MediaMC Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #0ea5e9, #1e3a8a);
  color: #fff;
}

header {
  text-align: center;
  padding: 60px 20px;
  background: rgba(2,6,23,0.85);
}

.store-section, #cartSection, #staffSection, #paymentSection {
  max-width: 700px;
  margin: 20px auto;
  background: rgba(2,6,23,0.9);
  border: 2px solid #38bdf8;
  border-radius: 14px;
  padding: 20px;
}

.store-item, #cartItems div, #staffOrders div {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid #38bdf8;
}

button {
  background: #38bdf8;
  border: none;
  border-radius: 6px;
  color: #fff;
  cursor: pointer;
  padding: 6px 12px;
  font-weight: bold;
}

#checkoutBtn { background: #22c55e; }

#paymentSection {
  border-color: #22c55e;
  display: none;
}

#staffSection {
  border-color: #facc15;
  display: none;
}

#openStaffBtn {
  display: block;
  margin: 30px auto;
  background: #facc15;
  color: #000;
}
</style>
</head>
<body>

<header>
  <h1>ðŸ›’ MediaMC Store</h1>
  <p>Acquista contenuti Premium per MediaMC</p>
</header>

<!-- LOGIN -->
<div id="loginPopup" style="position:fixed;inset:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;">
  <div style="background:#020617;padding:25px;border-radius:12px;text-align:center;">
    <h2>Inserisci il tuo Nick Minecraft</h2>
    <input id="nickInput" placeholder="Nick Minecraft">
    <br><br>
    <button onclick="login()">Entra</button>
  </div>
</div>

<!-- STORE -->
<div id="storeSection" class="store-section" style="display:none;">
<h2>Prodotti</h2>

<div class="store-item">
  <span>Kit Duels</span>
  <button onclick="addToCart('Kit Duels',5)">Aggiungi â‚¬5</button>
</div>

<div class="store-item">
  <span>Skin BedWars</span>
  <button onclick="addToCart('Skin BedWars',3)">Aggiungi â‚¬3</button>
</div>

<div class="store-item">
  <span>Premium Survival</span>
  <button onclick="addToCart('Premium Survival',10)">Aggiungi â‚¬10</button>
</div>
</div>

<!-- CARRELLO -->
<div id="cartSection" style="display:none;">
<h2>Carrello</h2>
<div id="cartItems"></div>
<button id="checkoutBtn" onclick="checkout()">Procedi Ordine</button>
</div>

<!-- PAGAMENTO -->
<div id="paymentSection">
<h2>Pagamento tramite Bonifico Bancario</h2>
<p><b>ID Ordine:</b> <span id="payOrderId"></span></p>
<p><b>Importo:</b> â‚¬<span id="payTotal"></span></p>

<hr>

<p><b>Intestatario:</b> MediaMC Network</p>
<p><b>IBAN:</b> <span style="color:#facc15;">INSERIREMO DOMANI</span></p>
<p><b>Causale:</b> <span id="payCausal"></span></p>

<p style="margin-top:15px;color:#a5f3fc;">
Dopo aver effettuato il bonifico, lo staff verificherÃ  il pagamento e lâ€™ordine verrÃ  completato.
</p>
</div>

<!-- STAFF -->
<button id="openStaffBtn" onclick="document.getElementById('staffSection').style.display='block'">
Apri Sezione Staff
</button>

<div id="staffSection">
<h2>Sezione Staff</h2>
<input type="password" id="staffPass" placeholder="Password Staff">
<button onclick="loginStaff()">Accedi</button>
<div id="staffOrders" style="margin-top:15px;"></div>
</div>

<script>
let nick='';
let cart=[];
let orders=JSON.parse(localStorage.getItem('orders'))||[];

function login(){
  nick=document.getElementById('nickInput').value.trim();
  if(!nick) return alert('Inserisci il nick');
  loginPopup.style.display='none';
  storeSection.style.display='block';
  cartSection.style.display='block';
}

function addToCart(name,price){
  cart.push({name,price});
  renderCart();
}

function renderCart(){
  cartItems.innerHTML='';
  cart.forEach((i,idx)=>{
    cartItems.innerHTML+=`${i.name} â‚¬${i.price} <button onclick="cart.splice(${idx},1);renderCart()">X</button><br>`;
  });
}

function checkout(){
  if(cart.length===0) return alert('Carrello vuoto');
  const id='MM-'+Math.floor(Math.random()*100000);
  const total=cart.reduce((s,i)=>s+i.price,0);
  orders.push({id,nick,items:cart,total});
  localStorage.setItem('orders',JSON.stringify(orders));

  payOrderId.textContent=id;
  payTotal.textContent=total;
  payCausal.textContent=id;

  paymentSection.style.display='block';
  cart=[];
  renderCart();
}

function loginStaff(){
  if(staffPass.value!=='staff123') return alert('Password errata');
  staffOrders.innerHTML='';
  orders.forEach(o=>{
    staffOrders.innerHTML+=`<div>${o.nick} | ${o.id} | â‚¬${o.total}</div>`;
  });
}
</script>

</body>
</html>
