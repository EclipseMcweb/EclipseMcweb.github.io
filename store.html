<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>MediaMC Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #0ea5e9, #020617);
  color: #fff;
  overflow-x: hidden;
}
/* Glow laterali */
.side-glow {
  position: fixed;
  top: -50%;
  width: 120px;
  height: 200%;
  background: linear-gradient(180deg, transparent, rgba(56,189,248,0.4), transparent);
  filter: blur(45px);
  animation: floatGlow 10s linear infinite;
  pointer-events: none;
  z-index: -1;
}
.side-glow.left { left: -50px; }
.side-glow.right { right: -50px; animation-delay: 5s; }
@keyframes floatGlow { 0% {transform:translateY(-20%);} 100% {transform:translateY(20%);} }

/* HEADER */
header { text-align:center; padding:70px 20px; background:rgba(2,6,23,0.85); box-shadow:0 10px 30px rgba(0,0,0,0.6); }
header h1 { font-size:3em; color:#38bdf8; }
header p { color:#bae6fd; font-size:1.2em; }

/* CATEGORIE */
.categories { display:flex; justify-content:center; flex-wrap:wrap; gap:15px; margin:30px 0; }
.categoryCard { background: rgba(2,6,23,0.8); border:2px solid #38bdf8; border-radius:12px; padding:12px 20px; cursor:pointer; transition:0.3s; min-width:120px; text-align:center; }
.categoryCard:hover { transform:scale(1.05); box-shadow:0 0 25px rgba(56,189,248,0.6); }

/* PRODOTTI */
.products { display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
.productCard { background: rgba(2,6,23,0.8); border:2px solid #38bdf8; border-radius:10px; width:200px; padding:10px; text-align:center; transition:0.2s; }
.productCard img { max-width:100%; border-radius:6px; margin-bottom:6px; }
.productCard:hover { transform:scale(1.03); box-shadow:0 0 20px rgba(56,189,248,0.6); }
.productCard button { background:#38bdf8; border:none; border-radius:6px; padding:6px 10px; color:#fff; font-weight:bold; cursor:pointer; }

/* STAFF LOGIN */
#staffBtn { display:block; margin:40px auto 50px auto; background:#facc15; color:#000; font-size:0.9em; padding:4px 8px; border:none; border-radius:6px; cursor:pointer; }

</style>
</head>
<body>
<div class="side-glow left"></div>
<div class="side-glow right"></div>

<header>
  <h1>üõí MediaMC Store</h1>
  <p>Seleziona la categoria e aggiungi i prodotti al carrello</p>
</header>

<div class="categories" id="categoryContainer"></div>
<div class="products" id="productContainer"></div>

<button id="staffBtn" onclick="openStaff()">‚öôÔ∏è Staff Login</button>

<script>
let nick = '';
function askNick() {
  nick = prompt("Inserisci il tuo Nick Minecraft");
  if(!nick || nick.trim()==='') { alert('Devi inserire un nick valido!'); askNick(); }
}
window.onload = askNick;

// Default categorie
let categories = JSON.parse(localStorage.getItem('categories')) || ['Duels','BedWars'];
let products = JSON.parse(localStorage.getItem('products')) || [
  {title:'Duels Kit 1', category:'Duels', price:5, desc:'Kit base Duels', image:''},
  {title:'BedWars Kit 1', category:'BedWars', price:8, desc:'Kit base BedWars', image:''}
];

// Render categorie
function renderCategories() {
  const catDiv = document.getElementById('categoryContainer');
  catDiv.innerHTML = '';
  categories.forEach(c=>{
    const div = document.createElement('div');
    div.className = 'categoryCard';
    div.textContent = c;
    div.onclick = ()=>renderProducts(c);
    catDiv.appendChild(div);
  });
}
renderCategories();

// Render prodotti per categoria
function renderProducts(cat){
  const prodDiv = document.getElementById('productContainer');
  prodDiv.innerHTML = '';
  const filtered = products.filter(p=>p.category===cat);
  filtered.forEach(p=>{
    const card = document.createElement('div');
    card.className='productCard';
    let imgTag = p.image?`<img src="${p.image}">`:'';
    card.innerHTML=`${imgTag}<h3>${p.title}</h3><p>‚Ç¨${p.price}</p><p>${p.desc}</p><button onclick="addCart('${p.title}',${p.price})">Aggiungi al Carrello</button>`;
    prodDiv.appendChild(card);
  });
}

// Carrello in localStorage
function addCart(title,price){
  let cart = JSON.parse(localStorage.getItem('cart'))||[];
  cart.push({title,price});
  localStorage.setItem('cart',JSON.stringify(cart));
  alert(`${title} aggiunto al carrello!`);
}

// Apri staff
function openStaff(){
  window.location.href='staff.html';
}
</script>
</body>
</html>
